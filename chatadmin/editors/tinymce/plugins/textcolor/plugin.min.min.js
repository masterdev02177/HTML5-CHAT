tinymce.PluginManager.add("textcolor",function(f){function d(){var h,i,e=[];for(i=f.settings.textcolor_map||["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Brown","C0C0C0","Silver","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum","FFFFFF","White"],h=0;h<i.length;h+=2){e.push({text:i[h+1],color:i[h]})}return e}function g(){var j,t,m,e,h,k,q,w,p,v=this;for(j=d(),m='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="presentation" cellspacing="0"><tbody>',e=j.length-1,h=f.settings.textcolor_rows||5,k=f.settings.textcolor_cols||8,w=0;h>w;w++){for(m+="<tr>",q=0;k>q;q++){p=w*k+q,p>e?m+="<td></td>":(t=j[p],m+='<td><div id="'+v._id+"-"+p+'" data-mce-color="'+t.color+'" role="option" tabIndex="-1" style="'+(t?"background-color: #"+t.color:"")+'" title="'+t.text+'"></div></td>')}m+="</tr>"}return m+="</tbody></table>"}function b(h){var i,e=this.parent();(i=h.target.getAttribute("data-mce-color"))&&(e.hidePanel(),i="#"+i,e.color(i),f.execCommand(e.settings.selectcmd,!1,i))}function c(){var a=this;a._color&&f.execCommand(a.settings.selectcmd,!1,a._color)}f.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",popoverAlign:"bc-tl",selectcmd:"ForeColor",panel:{html:g,onclick:b},onclick:c}),f.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",popoverAlign:"bc-tl",selectcmd:"HiliteColor",panel:{html:g,onclick:b},onclick:c})});