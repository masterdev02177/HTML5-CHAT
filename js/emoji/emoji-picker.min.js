(function(){this.EmojiPicker=(function(){function a(c){var d,b;if(c==null){c={}}$.emojiarea.iconSize=(d=c.iconSize)!=null?d:25;$.emojiarea.assetsPath=(b=c.assetsPath)!=null?b:"";this.generateEmojiIconSets(c);if(!c.emojiable_selector){c.emojiable_selector="[data-emojiable=true]"}this.options=c}a.prototype.discover=function(){var b;b=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(b){return}return $(this.options.emojiable_selector).emojiarea($.extend({emojiPopup:this,norealTime:true},this.options))};a.prototype.generateEmojiIconSets=function(n){var f,b,e,h,l,g,c,d,m,k;l={};d={};h=void 0;g=void 0;e=void 0;c=void 0;b=void 0;m=void 0;f=void 0;k=void 0;g=0;while(g<Config.EmojiCategories.length){k=Config.EmojiCategorySpritesheetDimens[g][1];h=0;while(h<Config.EmojiCategories[g].length){b=Config.Emoji[Config.EmojiCategories[g][h]];c=b[1][0];m=Math.floor(h/k);f=h%k;l[":"+c+":"]=[g,m,f,":"+c+":"];d[c]=b[0];h++}g++}$.emojiarea.icons=l;return $.emojiarea.reverseIcons=d};a.prototype.colonToUnicode=function(b){if(!b){return""}if(!Config.rx_colons){Config.init_unified()}return b.replace(Config.rx_colons,function(c){var d;d=Config.mapcolon[c];if(d){return d}else{return""}})};a.prototype.appendUnicodeAsImageToElement=function(f,e){var d,c,b,h,g;if(!e){return""}if(!Config.rx_codes){Config.init_unified()}b=e.split(Config.rx_codes);for(d=0,c=b.length;d<c;d++){h=b[d];g="";if(Config.rx_codes.test(h)){g=Config.reversemap[h];if(g){g=":"+g+":";g=$.emojiarea.createIcon($.emojiarea.icons[g])}}else{g=document.createTextNode(h)}f.append(g)}return e.replace(Config.rx_codes,function(i){var j;g=Config.reversemap[i];if(g){g=":"+g+":";j=$.emojiarea.createIcon($.emojiarea.icons[g]);return j}else{return""}})};a.prototype.colonToImage=function(b){if(!b){return""}if(!Config.rx_colons){Config.init_unified()}return b.replace(Config.rx_colons,function(c){var d;if(c){d=$.emojiarea.createIcon($.emojiarea.icons[c]);return d}else{return""}})};return a})()}).call(this);